<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Creating a Todo app on the MEAN stack using Preston | Simply Ian</title>
  <meta name="description" content="A blog on software, technology, and life." />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/component.css" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <meta name="generator" content="Simply Ian">

  
  <meta name="description" content="Preston is an extremely powerful library for creating RESTful applications that use Mongoose models. In this tutorial, I’ll be hooking up the AngularJS..." />
  <meta name="og:description" content="Preston is an extremely powerful library for creating RESTful applications that use Mongoose models. In this tutorial, I’ll be hooking up the AngularJS TodoMVC app to a Preston-powered backend...." />
  

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  


</head>
<body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=642450882544195&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div class="container">
    <div class="mp-pusher" id="mp-pusher">
        <i id="scroll-up" class="fa fa-angle-up"></i>
        <nav id="mp-menu" class="mp-menu">
            <div class="mp-level">
                <a data-pjax class="back-home" style="font-size: 20px" href="/"><h2 ><i class="fa fa-home"></i>
                        Home</h2></a>
                <ul class="first-level">
                    <li>
                        <a class="fa fa-archive" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Archive</a>
                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-archive"></i>
                                Archive</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-archive" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/09/28/The-benefit-of-destructuring-function-arguments-in-ES6/">The benefit of destructuring function arguments in ES6</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/09/13/Doing-homework-assignments-in-Markdown-using-Pandoc-and-LaTeX/">Doing homework assignments in Markdown using Pandoc and LaTeX</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/04/23/Using-form-horizontal-with-simple-form-in-Rails-4/">Using form-horizontal with simple_form in Rails 4</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/02/15/How-to-skip-all-Yaourt-prompts-on-Arch-Linux/">How to skip all Yaourt prompts on Arch Linux</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/02/03/Why-hard-work-doesn-t-matter/">Why hard work doesn&#39;t matter</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/02/02/Why-abstraction-is-important-when-constructing-algorithms/">Why abstraction is important when constructing algorithms</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/01/08/The-real-reason-why-Caps-Lock-and-Escape-are-in-terrible-positions/">The real reason why Caps Lock and Escape are in terrible positions</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2015/01/07/Hacking-GMail-to-use-custom-domains-for-free/">Hacking Gmail to use custom domains for free</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/12/20/Creating-a-Todo-app-on-the-MEAN-stack-using-Preston/">Creating a Todo app on the MEAN stack using Preston</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/11/10/getting-django-to-work-with-vagrant/">Getting Django To Work With Vagrant</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/11/04/the-coffeescript-keyword-nobodys-heard-of-by/">The Coffeescript Keyword Nobody&#39;s Heard Of: &#39;by&#39;</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/08/07/json-backends-are-the-next-big-thing/">JSON Backends Are The Next Big Thing</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/04/28/how-to-have-language-specific-settings-in-vim/">How to Have Language-Specific Settings in Vim</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/04/15/setting-up-virtual-hosts-in-apache/">Setting up Virtual Hosts in Apache</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/04/10/including-dependencies-in-your-gradle-build-scripts-classpath/">Including Dependencies in Your Gradle Build Script&#39;s Classpath</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/04/04/adding-a-provided-jar-as-a-dependency-in-a-gradle-project/">Adding a Provided JAR as a Dependency in a Gradle Project</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/04/02/up-a-useful-file-sharing-tool-using-scp/">up - A Useful File Sharing Tool Using SCP</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/04/01/how-to-run-a-command-on-startup-on-linux/">How to Run a Command on Startup on Linux</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/31/how-to-change-the-name-of-the-jar-produced-in-gradle/">How to Change the Name of the JAR Produced in Gradle</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/30/how-to-run-a-specific-class-inside-of-a-jar/">How to Run a Specific Class Inside of a JAR</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/29/using-tmux-remotely-within-a-local-tmux-session/">Using Tmux Remotely Within a Local Tmux Session</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/29/how-to-change-the-theme-of-the-xfce-terminal/">How to Change the Theme of the XFCE Terminal</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/29/making-powerline-work-with-tmux-and-zsh/">Making Powerline Work With Tmux And ZSH</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/28/using-powerline-symbols-with-your-current-font/">Using Powerline Symbols With ZSH</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/27/multiple-virtual-monitors-with-virtualbox-and-xfce/">Multiple Virtual Monitors with Virtualbox and XFCE</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2014/03/27/why-im-restarting-my-blog/">Why I&#39;m Restarting My Blog</a>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a class="fa fa-copy" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Categories</a>

                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-copy"></i>
                                Categories</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-category" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Apache/">&nbsp;&nbsp;&nbsp;Apache</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Gradle/">&nbsp;&nbsp;&nbsp;Gradle</a>
                                    <small>3</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Java/">&nbsp;&nbsp;&nbsp;Java</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Gradle/Java/">&nbsp;&nbsp;&nbsp;Java</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Apache/Linux/">&nbsp;&nbsp;&nbsp;Linux</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Linux/">&nbsp;&nbsp;&nbsp;Linux</a>
                                    <small>2</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Meta/">&nbsp;&nbsp;&nbsp;Meta</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/zsh/Powerline/">&nbsp;&nbsp;&nbsp;Powerline</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Vim/">&nbsp;&nbsp;&nbsp;Vim</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/VirtualBox/">&nbsp;&nbsp;&nbsp;VirtualBox</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/Web/">&nbsp;&nbsp;&nbsp;Web</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/XFCE/">&nbsp;&nbsp;&nbsp;XFCE</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/VirtualBox/XFCE/">&nbsp;&nbsp;&nbsp;XFCE</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/tmux/">&nbsp;&nbsp;&nbsp;tmux</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-category-li mp-pjax">
                                    <a href="/categories/zsh/">&nbsp;&nbsp;&nbsp;zsh</a>
                                    <small>2</small>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a class="fa fa-tags" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Tags</a>
                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-tags"></i>
                                Tags</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-tag" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/MEAN/">&nbsp;&nbsp;&nbsp;MEAN</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/Node-js/">&nbsp;&nbsp;&nbsp;Node.js</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/arch/">&nbsp;&nbsp;&nbsp;arch</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/asynchronous/">&nbsp;&nbsp;&nbsp;asynchronous</a>
                                    <small>0</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/es6/">&nbsp;&nbsp;&nbsp;es6</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/frugal/">&nbsp;&nbsp;&nbsp;frugal</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/gmail/">&nbsp;&nbsp;&nbsp;gmail</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/hack/">&nbsp;&nbsp;&nbsp;hack</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/javascript/">&nbsp;&nbsp;&nbsp;javascript</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/latex/">&nbsp;&nbsp;&nbsp;latex</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/linux/">&nbsp;&nbsp;&nbsp;linux</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/mailgun/">&nbsp;&nbsp;&nbsp;mailgun</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/markdown/">&nbsp;&nbsp;&nbsp;markdown</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/pandoc/">&nbsp;&nbsp;&nbsp;pandoc</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/preston/">&nbsp;&nbsp;&nbsp;preston</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/programming/">&nbsp;&nbsp;&nbsp;programming</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/rails/">&nbsp;&nbsp;&nbsp;rails</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/rest/">&nbsp;&nbsp;&nbsp;rest</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/vim/">&nbsp;&nbsp;&nbsp;vim</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/web/">&nbsp;&nbsp;&nbsp;web</a>
                                    <small>1</small>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    <li><a class="fa fa-user" href="http://ian.pw">&nbsp;&nbsp;&nbsp;My Homepage</a></li>
                    <li><a class="fa fa-github" href="https://github.com/simplyianm">&nbsp;&nbsp;&nbsp;Github</a></li>

                </ul>

            </div>
        </nav>
        <div id="pjax">
            <div class="pjax-hidden" style="display: none">
                
                    <a  data-pjax href="/2015/09/28/The-benefit-of-destructuring-function-arguments-in-ES6/">The benefit of destructuring function arguments in ES6</a>
                
                    <a  data-pjax href="/2015/09/13/Doing-homework-assignments-in-Markdown-using-Pandoc-and-LaTeX/">Doing homework assignments in Markdown using Pandoc and LaTeX</a>
                
                    <a  data-pjax href="/2015/04/23/Using-form-horizontal-with-simple-form-in-Rails-4/">Using form-horizontal with simple_form in Rails 4</a>
                
                    <a  data-pjax href="/2015/02/15/How-to-skip-all-Yaourt-prompts-on-Arch-Linux/">How to skip all Yaourt prompts on Arch Linux</a>
                
                    <a  data-pjax href="/2015/02/03/Why-hard-work-doesn-t-matter/">Why hard work doesn&#39;t matter</a>
                
                    <a  data-pjax href="/2015/02/02/Why-abstraction-is-important-when-constructing-algorithms/">Why abstraction is important when constructing algorithms</a>
                
                    <a  data-pjax href="/2015/01/08/The-real-reason-why-Caps-Lock-and-Escape-are-in-terrible-positions/">The real reason why Caps Lock and Escape are in terrible positions</a>
                
                    <a  data-pjax href="/2015/01/07/Hacking-GMail-to-use-custom-domains-for-free/">Hacking Gmail to use custom domains for free</a>
                
                    <a  data-pjax href="/2014/12/20/Creating-a-Todo-app-on-the-MEAN-stack-using-Preston/">Creating a Todo app on the MEAN stack using Preston</a>
                
                    <a  data-pjax href="/2014/11/10/getting-django-to-work-with-vagrant/">Getting Django To Work With Vagrant</a>
                
                    <a  data-pjax href="/2014/11/04/the-coffeescript-keyword-nobodys-heard-of-by/">The Coffeescript Keyword Nobody&#39;s Heard Of: &#39;by&#39;</a>
                
                    <a  data-pjax href="/2014/08/07/json-backends-are-the-next-big-thing/">JSON Backends Are The Next Big Thing</a>
                
                    <a  data-pjax href="/2014/04/28/how-to-have-language-specific-settings-in-vim/">How to Have Language-Specific Settings in Vim</a>
                
                    <a  data-pjax href="/2014/04/15/setting-up-virtual-hosts-in-apache/">Setting up Virtual Hosts in Apache</a>
                
                    <a  data-pjax href="/2014/04/10/including-dependencies-in-your-gradle-build-scripts-classpath/">Including Dependencies in Your Gradle Build Script&#39;s Classpath</a>
                
                    <a  data-pjax href="/2014/04/04/adding-a-provided-jar-as-a-dependency-in-a-gradle-project/">Adding a Provided JAR as a Dependency in a Gradle Project</a>
                
                    <a  data-pjax href="/2014/04/02/up-a-useful-file-sharing-tool-using-scp/">up - A Useful File Sharing Tool Using SCP</a>
                
                    <a  data-pjax href="/2014/04/01/how-to-run-a-command-on-startup-on-linux/">How to Run a Command on Startup on Linux</a>
                
                    <a  data-pjax href="/2014/03/31/how-to-change-the-name-of-the-jar-produced-in-gradle/">How to Change the Name of the JAR Produced in Gradle</a>
                
                    <a  data-pjax href="/2014/03/30/how-to-run-a-specific-class-inside-of-a-jar/">How to Run a Specific Class Inside of a JAR</a>
                
                    <a  data-pjax href="/2014/03/29/using-tmux-remotely-within-a-local-tmux-session/">Using Tmux Remotely Within a Local Tmux Session</a>
                
                    <a  data-pjax href="/2014/03/29/how-to-change-the-theme-of-the-xfce-terminal/">How to Change the Theme of the XFCE Terminal</a>
                
                    <a  data-pjax href="/2014/03/29/making-powerline-work-with-tmux-and-zsh/">Making Powerline Work With Tmux And ZSH</a>
                
                    <a  data-pjax href="/2014/03/28/using-powerline-symbols-with-your-current-font/">Using Powerline Symbols With ZSH</a>
                
                    <a  data-pjax href="/2014/03/27/multiple-virtual-monitors-with-virtualbox-and-xfce/">Multiple Virtual Monitors with Virtualbox and XFCE</a>
                
                    <a  data-pjax href="/2014/03/27/why-im-restarting-my-blog/">Why I&#39;m Restarting My Blog</a>
                
                
                    <a data-pjax href="/categories/Apache/">&nbsp;&nbsp;Apache</a>
                
                    <a data-pjax href="/categories/Gradle/">&nbsp;&nbsp;Gradle</a>
                
                    <a data-pjax href="/categories/Java/">&nbsp;&nbsp;Java</a>
                
                    <a data-pjax href="/categories/Gradle/Java/">&nbsp;&nbsp;Java</a>
                
                    <a data-pjax href="/categories/Apache/Linux/">&nbsp;&nbsp;Linux</a>
                
                    <a data-pjax href="/categories/Linux/">&nbsp;&nbsp;Linux</a>
                
                    <a data-pjax href="/categories/Meta/">&nbsp;&nbsp;Meta</a>
                
                    <a data-pjax href="/categories/zsh/Powerline/">&nbsp;&nbsp;Powerline</a>
                
                    <a data-pjax href="/categories/Vim/">&nbsp;&nbsp;Vim</a>
                
                    <a data-pjax href="/categories/VirtualBox/">&nbsp;&nbsp;VirtualBox</a>
                
                    <a data-pjax href="/categories/Web/">&nbsp;&nbsp;Web</a>
                
                    <a data-pjax href="/categories/XFCE/">&nbsp;&nbsp;XFCE</a>
                
                    <a data-pjax href="/categories/VirtualBox/XFCE/">&nbsp;&nbsp;XFCE</a>
                
                    <a data-pjax href="/categories/tmux/">&nbsp;&nbsp;tmux</a>
                
                    <a data-pjax href="/categories/zsh/">&nbsp;&nbsp;zsh</a>
                
                
                    <a data-pjax href="/tags/MEAN/">&nbsp;&nbsp;MEAN</a>
                
                    <a data-pjax href="/tags/Node-js/">&nbsp;&nbsp;Node.js</a>
                
                    <a data-pjax href="/tags/arch/">&nbsp;&nbsp;arch</a>
                
                    <a data-pjax href="/tags/asynchronous/">&nbsp;&nbsp;asynchronous</a>
                
                    <a data-pjax href="/tags/es6/">&nbsp;&nbsp;es6</a>
                
                    <a data-pjax href="/tags/frugal/">&nbsp;&nbsp;frugal</a>
                
                    <a data-pjax href="/tags/gmail/">&nbsp;&nbsp;gmail</a>
                
                    <a data-pjax href="/tags/hack/">&nbsp;&nbsp;hack</a>
                
                    <a data-pjax href="/tags/javascript/">&nbsp;&nbsp;javascript</a>
                
                    <a data-pjax href="/tags/latex/">&nbsp;&nbsp;latex</a>
                
                    <a data-pjax href="/tags/linux/">&nbsp;&nbsp;linux</a>
                
                    <a data-pjax href="/tags/mailgun/">&nbsp;&nbsp;mailgun</a>
                
                    <a data-pjax href="/tags/markdown/">&nbsp;&nbsp;markdown</a>
                
                    <a data-pjax href="/tags/pandoc/">&nbsp;&nbsp;pandoc</a>
                
                    <a data-pjax href="/tags/preston/">&nbsp;&nbsp;preston</a>
                
                    <a data-pjax href="/tags/programming/">&nbsp;&nbsp;programming</a>
                
                    <a data-pjax href="/tags/rails/">&nbsp;&nbsp;rails</a>
                
                    <a data-pjax href="/tags/rest/">&nbsp;&nbsp;rest</a>
                
                    <a data-pjax href="/tags/vim/">&nbsp;&nbsp;vim</a>
                
                    <a data-pjax href="/tags/web/">&nbsp;&nbsp;web</a>
                
                <a data-pjax class="fa fa-user" href="/about">&nbsp;&nbsp;&nbsp;About me</a>
            </div>
            <nav class="nexus">
                <li  style="border-left: 1px solid #c6d0da;">
                    <a id="trigger" href="#"><i class="fa fa-bars"></i></a>
                </li>
                <li ><a id="nexus-back" data-pjax href="/">Simply Ian</a></li>
                
                <div id="nav-container">
                    <div class="post-navbar" style="line-height: 63px;display:none">
                        <li id="navbar-title"><a href="#">Creating a Todo app on the MEAN stack using Preston</a></li>
                        <li id="navbar-toc" style="border-left: none">
                            <a style="padding-right: 15px">
                                <span id="toc-content" >Introduction</span><i class="fa fa-chevron-down" ></i>
                            </a>
                            <div class="hidden-box">
                                <ul id="toc"></ul>
                            </div>
                        </li>
                    </div>
                </div>
                
            </nav>

            <div class="scroller">
            <div class="scroller-inner">


<!-- -->
<!--<body class="post-template">-->
<!---->
  

<main class="content" role="main">
  <article class="post" >
    <div class="post-time">
      <span class="fa fa-clock-o"></span>
      <time datetime="2014-12-21T00:34:19.000Z"
                itemprop="datePublished">Dec 20 2014</time>
    </div>
    <h1 class="post-title" style="margin: 14px 0;color:#50585D">Creating a Todo app on the MEAN stack using Preston</h1>
    <div class="share-links">
      <div class="share-twitter">
        <a class="twitter-share-button" href="https://twitter.com/share">Tweet</a>
      </div>
      <div class="share-facebook">
        <iframe src="http://www.facebook.com/plugins/like.php?href=http://simplyian.com/2014/12/20/Creating-a-Todo-app-on-the-MEAN-stack-using-Preston/&layout=button_count" style="overflow:hidden;width:100%;height:20px;" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
      </div>
    </div>

    <section class="post-content">
      <p><a href="http://prestonjs.com" target="_blank" rel="external">Preston</a> is an extremely powerful library for creating RESTful applications that use Mongoose models. In this tutorial, I’ll be hooking up the <a href="http://todomvc.com/examples/angularjs/#/" target="_blank" rel="external">AngularJS TodoMVC app</a> to a Preston-powered backend.</p>
<p>First, I’ve created a repo that is based off of the AngularJS Todo app. You can clone the first step like so:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="string">https:</span><span class="comment">//github.com/simplyianm/todomvc-preston-angular.git</span></span><br><span class="line">git checkout angular</span><br></pre></td></tr></table></figure>
<p>This is the TodoMVC app with a few changes for simplicity:</p>
<ol>
<li>It uses a CDN rather than Bower.</li>
<li>It uses Express to serve the app rather than being static HTML. This makes the differences between pure Angular to Angular+Preston much more pronounced.</li>
</ol>
<h2 id="Backend">Backend</h2><p>To create our backend, we must first install Mongoose, Preston, and <a href="https://github.com/expressjs/body-parser" target="_blank" rel="external">body-parser</a> like so:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> <span class="comment">--save preston mongoose</span></span></span><br></pre></td></tr></table></figure>
<p>Once this is done, we’re ready to start writing the code for our app. We’ll write all of our backend code in <code>app.js</code>. First, let’s require Mongoose and Preston, so we can use them in our code.</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="reserved">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"><span class="reserved">var</span> preston = <span class="built_in">require</span>(<span class="string">'preston'</span>);</span><br></pre></td></tr></table></figure>
<p>Next, let’s connect to our MongoDB database. I’m using MongoHQ since this will be on Heroku, but you can use whatever MongoDB database you want.</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongoose.connect(process.<span class="keyword">env</span>.MONGOHQ_URL || <span class="string">'mongodb://localhost:27017'</span>);</span><br></pre></td></tr></table></figure>
<p>Once Mongoose is connected, let’s define our model for our todos. We can define it like so:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Todo = mongoose.model(<span class="string">'Todo'</span>, <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">  title: <span class="built_in">String</span>,</span><br><span class="line">  completed: <span class="built_in">Boolean</span></span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>
<p>Next, let’s add Preston into this. There are only three lines of code needed to create a fully functional JSON RESTful backend with Preston:</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="keyword">use</span>(<span class="keyword">require</span>(<span class="string">'body-parser'</span>).json());</span><br><span class="line">preston(Todo);</span><br><span class="line">app.<span class="keyword">use</span>(<span class="string">'/api'</span>, preston.middleware());</span><br></pre></td></tr></table></figure>
<p>The first line of code is required to parse the JSON request bodies which Preston depends on.</p>
<p>The second line of code tells Preston that we want to create routes for the <code>Todo</code> model. By default, all 5 methods (query, create, get, update, destroy) are exposed with full access. *Note: if you don’t want this in your own application, Preston has the power to control what gets sent in every one of those methods. <a href="https://github.com/simplyianm/preston" target="_blank" rel="external">Read the docs</a> for more details.</p>
<p>The last line tells Express to serve any registered models on the <code>/api</code> route. Thus, routes under <code>/api/todos</code> are created.</p>
<p>We’re going to add one more line of code to show what routes are created, for the sake of example:</p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">preston.printRoutes<span class="literal">()</span>;</span><br></pre></td></tr></table></figure>
<p>This just prints all generated routes, without their prefixes.</p>
<h2 id="Frontend_(Angular)">Frontend (Angular)</h2><p>Fortunately, most of the AngularJS app is done. The TodoMVC example provides a sample connection to a sample RESTful backend (like ours). This is part of what makes Preston so powerful — <strong>it speaks the universal language of REST.</strong> There are tons of libraries out there to interface with REST: <a href="https://github.com/mgonto/restangular" target="_blank" rel="external">Restangular</a>, <a href="https://github.com/platanus/angular-restmod" target="_blank" rel="external">restmod</a>, etc.</p>
<p>To get the frontend working, you must populate the todos list and ignore the 404 check. You can do this with the following:</p>
<p>In <code>client/js/services/todoStorage.js</code>, make the <code>todoStorage</code> factory return the following:</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> $injector.<span class="keyword">get</span>(<span class="string">'api'</span>);</span><br></pre></td></tr></table></figure>
<p>In <code>client/js/app.js</code>, make the <code>resolve.store</code> function return <code>todoStorage</code>. Furthermore, add the following to <code>TodoCtrl</code>:</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$http.get(<span class="string">'/api/todos'</span>).<span class="keyword">then</span>(<span class="function"><span class="keyword">function</span><span class="params">(data)</span></span> &#123;</span><br><span class="line">  <span class="type">data</span>.<span class="type">data</span>.map(<span class="function"><span class="keyword">function</span><span class="params">(todo)</span></span> &#123;</span><br><span class="line">    store.todos.push(todo);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Don’t forget to inject <code>$http</code> into the controller. <a href="https://github.com/simplyianm/todomvc-preston-angular/commit/40ddf0212a252f99dc2974b3e6c63e4c8cfe5b48" target="_blank" rel="external">The entire diff of these changes can be found here.</a> If you were too lazy to follow this tutorial, you can also type <code>git checkout master</code> into your terminal to get to the latest version.</p>
<p>If you’re hosting the app on Heroku, you’ll also need to type <code>heroku addons:add mongohq</code> to get a database hooked up to your code.</p>
<p>The entire backend is now hooked up to Angular with little effort. <a href="https://todomvc-preston-angular.herokuapp.com/" target="_blank" rel="external">Try it here!</a></p>
<h2 id="Conclusion">Conclusion</h2><p>Preston is a very powerful tool when used in conjunction with AngularJS. It can decrease the time it takes to get from idea to MVP significantly, as the backend code needed is extremely minimal. Preston solves the problem of creating a bunch of routes for your database whenever you need to create a model, as Preston just creates the most optimal routes and knows what you want.</p>
<p>In the future, I’ll write about using Preston with <a href="https://github.com/mgonto/restangular" target="_blank" rel="external">Restangular</a>, as the combination is even more powerful than using <code>$http</code> alone.</p>

    </section>

    <hr />

    <section>
      <p>Thanks for reading my post! If you enjoyed it or it helped you, please consider liking/tweeting this page, commenting, or following me on <a href="https://github.com/simplyianm" target="_blank">GitHub</a> or <a href="https://twitter.com/simplyianm">Twitter</a>!</p>
      <div class="share-links">
        <div class="share-twitter">
          <a class="twitter-share-button" href="https://twitter.com/share">Tweet</a>
        </div>
        <div class="share-facebook">
          <iframe src="http://www.facebook.com/plugins/like.php?href=http://simplyian.com/2014/12/20/Creating-a-Todo-app-on-the-MEAN-stack-using-Preston/&layout=button_count" style="overflow:hidden;width:100%;height:20px;" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
        </div>
      </div>
    </section>

    <hr />

    <nav class="pagination" style="width:auto" role="pagination">
      
      <a data-pjax class="newer-posts" href="/2015/01/07/Hacking-GMail-to-use-custom-domains-for-free/">← Prev Post</a>
      
      <a class="share-button" data-original-title title>Share this Post</a>
      
      <a data-pjax class="older-posts" href="/2014/11/10/getting-django-to-work-with-vagrant/">Next Post →</a>
      
    </nav>

    <section id="comment">
      <div id="disqus_thread"></div>
      <div id="comment-box"></div>
    </section>

  </article>
</main>

<script type="text/javascript">
  window.twttr = (function(d, s, id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {
      twttr.widgets.load();
      return
    }
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = {
      _e: [],
      ready: function(f) {
        t._e.push(f)
      }
    })
  }(document, "script", "twitter-wjs"));
</script>


  
<footer class="site-footer">
    
    <a class="subscribe icon-feed" href="atom.xml"><span class="tooltip">Subscribe!</span></a>
    
    <div class="inner">
        <section class="copyright"><a href="/"></a>Copyright &copy; 2014-2015 Ian Macalinao</section>
        <section class="poweredby">Published with <a target="_blank" href="http://hexo.io/">Hexo</a></div>
</footer>
</div>
</div><!-- /scroller -->

</div><!-- /pusher -->
</div><!-- /container -->
</div>

<script src="//simplyian.disqus.com/embed.js"></script>

  <script src="//cdn.staticfile.org/jquery/1.11.0/jquery.min.js">
</script>
<script>
  if (!window.jQuery) {
    var script = document.createElement('script');
    script.src = "/js/jquery.min.js";
    document.body.appendChild(script);
  }
</script>
<script type="text/javascript" src="/js/lib.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

<script>
  (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-56968562-2', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
